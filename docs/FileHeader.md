# 파일 인식 정보

한글의 문서 파일이라는 것을 나타내기 위해 ‘파일 인식 정보’가 저장된다.
FileHeader 스트림에 저장되는 데이터는 다음과 같다.

| 자료형             | 길이(바이트) | 설명                    | Go Data Types |
|-----------------|:-------:|-----------------------|---------------|
| BYTE array[32]  |   32    | signature             | [32]byte      |
| DWORD           |    4    | 파일 버전                 | unit32        |
| DWORD           |    4    | 속성1                   | unit32        |
| DWORD           |    4    | 속성2                   | unit32        |
| DWORD           |    4    | EncryptVersion        | unit32        |
| BYTE            |    1    | 공공누리(KOGL) 라이선스 지원 국가 | byte          |
| BYTE array[207] |   207   | 예약                    | [207]byte     |
| 전체 길이           |   256   |

## signature

문서 파일은 "HWP Document File"

## 파일 버전

파일 버전. 0xMMnnPPrr의 형태(예 5.0.3.0)

- MM: 문서 형식의 구조가 완전히 바뀌는 것을 나타냄. 숫자가 다르면 구 버전과 호환 불가능.
- nn: 큰 구조는 동일하나, 큰 변화가 있는 것을 나타냄. 숫자가 다르면 구 버전과 호환 불가능.
- PP: 구조는 동일, Record가 추가되었거나, 하위 버전에서 호환되지 않는 정보가 추가된 것을 나타냄. 숫자가 달라도 구 버전과 호환 가능.
- rr: Record에 정보들이 추가된 것을 나타냄. 숫자가 달라도 구 버전과 호환 가능

## 속성1

| 범위          | 설명                     |
|-------------|------------------------|
| bit 0       | 압축 여부                  |
| bit 1       | 암호 설정 여부               |
| bit 2       | 배포용 문서 여부              |
| bit 3       | 스크립트 저장 여부             |
| bit 4       | DRM 보안 문서 여부           |
| bit 5       | XMLTemplate 스토리지 존재 여부 |
| bit 6       | 문서 이력 관리 존재 여부         |
| bit 7       | 전자 서명 정보 존재 여부         |
| bit 8       | 공인 인증서 암호화 여부          |
| bit 9       | 전자 서명 예비 저장 여부         |
| bit 10      | 공인 인증서 DRM 보안 문서 여부    |
| bit 11      | CCL 문서 여부              |
| bit 12      | 모바일 최적화 여부             |
| bit 13      | 개인 정보 보안 문서 여부         |
| bit 14      | 변경 추적 문서 여부            |
| bit 15      | 공공누리(KOGL) 저작권 문서      |
| bit 16      | 비디오 컨트롤 포함 여부          |
| bit 17      | 차례 필드 컨트롤 포함 여부        |
| bit 18 ~ 31 | 예약                     |

## 속성 2

| 범위         | 설명                               |
|------------|----------------------------------|
| bit 0      | CCL, 공공누리 라이선스 정보                |
| bit 1      | 복제 제한 여부                         |
| bit 2      | 동일 조건 하에 복제 허가 여부 (복제 제한인 경우 무시) |
| bit 3 ~ 31 | 예약                               |

## EncryptVersion

- 0: None
- 1: (한글 2.5 버전 이하)
- 2: (한글 3.0 버전 Enhanced)
- 3: (한글 3.0 버전 Old)
- 4: (한글 7.0 버전 이후)

## 공공누리(KOGL) 라이선스 지원 국가

- 6: KOR
- 15: US
